<!DOCTYPE html>
<html>
<head>
    <title>Convertitore Data/Ora → Epoch Time</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 500px; margin: 50px auto; padding: 20px; }
        .container { background: #f5f5f5; padding: 20px; border-radius: 8px; }
        input, button { padding: 10px; margin: 5px 0; width: 100%; box-sizing: border-box; }
        button { background: #007cba; color: white; border: none; cursor: pointer; }
        button:hover { background: #005a87; }
        #result { margin-top: 15px; padding: 10px; background: white; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Convertitore Data/Ora → Epoch Time</h2>
        
        <label for="datetime">Data e Ora:</label>
        <input type="datetime-local" id="datetime" required>
        
        <button onclick="convertToEpoch()">Converti</button>
        
        <div id="result"></div>
    </div>

    <script>
        function convertToEpoch() {
            const datetimeInput = document.getElementById('datetime').value;
            
            if (!datetimeInput) {
                document.getElementById('result').innerHTML = 
                    '<p style="color: red;">Inserisci una data e ora valida</p>';
                return;
            }
            
            // Crea un oggetto Date dal valore dell'input
            const date = new Date(datetimeInput);
            
            // Verifica che la data sia valida
            if (isNaN(date.getTime())) {
                document.getElementById('result').innerHTML = 
                    '<p style="color: red;">Data/ora non valida</p>';
                return;
            }
            
            // Converte in epoch time (millisecondi dal 1 gennaio 1970)
            const epochTime = date.getTime();
            
            // Mostra il risultato
            document.getElementById('result').innerHTML = `
                <p><strong>Epoch Time:</strong> ${epochTime}</p>
                <p><strong>In secondi:</strong> ${Math.floor(epochTime / 1000)}</p>
                <p><strong>Data letta:</strong> ${date.toString()}</p>
            `;
        }
        
        // Imposta la data corrente come valore predefinito
        window.onload = function() {
            const now = new Date();
            // Formatta per datetime-local (YYYY-MM-DDTHH:MM)
            const localDatetime = now.toISOString().slice(0, 16);
            document.getElementById('datetime').value = localDatetime;
        };
    </script>
</body>
</html>